<!-- electronics/templates/electronics/product_list.html -->
{% extends 'base/base.html' %}
{% load static %}
{% load i18n %}

{% block css %}
<link rel="stylesheet" href="{% static 'electronics/css/product_list.css' %}">
{% endblock %}

{% block content %}
<!-- add electronics -->
<div class="product-container">
    <div class="list-header">
        <a href="{% url 'electronics:create_product' %}" class="add-product-btn btn">
            <i class="fas fa-plus"></i> Add New Electronics
        </a>
    </div>
</div>

<div class="layout">
    <main class="product-grid">
        {% for product in products %}
        <div class="product-card">
            {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
<button type="button" 
                        class="interaction-button like-button"
                        aria-label="Like this item"
                        data-item-id="{{ item.id }}"
                        data-action="like">
                    <i class="fas fa-thumbs-up" aria-hidden="true"></i> 
                    <span class="interaction-count" id="like-count" aria-live="polite">{{ item.like_count }} 0</span>
                </button>
                
                <button type="button" 
                        class="interaction-button share-button"
                        aria-label="Share this item"
                        data-item-id="{{ item.id }}"
                        data-action="share"> 
                    <i class="fas fa-share-alt" aria-hidden="true"></i> 
                    <span class="interaction-count" id="share-count" aria-live="polite">{{ item.share_count }} 0</span>
                </button>
                
            {% else %}
            <div class="placeholder-image">
                <i class="bi bi-image"></i>
            </div>
            {% endif %}
            <div class="product-info">
                <h4>{{ product.name }}</h4>
                <span class="condition-tag {{ product.condition }}">
                    {{ product.get_condition_display }}
                </span>
                <p>{{ product.description|truncatewords:15 }}</p>
                <div class="price-stock">
                    <span class="price">${{ product.price }}</span>
                    <span class="stock">Stock: {{ product.stock }}</span>
                </div>
                <a href="{% url 'electronics:product_detail' product.id %}" class="view-btn">View Details</a>
            </div>
        </div>
        {% empty %}
        <div class="no-products">No products available.</div>
        {% endfor %}
    </main>
</div>
{% endblock %}

{% block js %}
<script src="{% static 'electronics/js/product_list.js' %}"></script>
{% endblock %}
